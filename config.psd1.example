<#
.SYNOPSIS
    Файл конфигурации для скрипта sync_share.ps1 / Configuration file for sync_share.ps1 script
    Внимание!!! / Attention!!!
    Требуется сохранение в кодировке UTF8 с BOM !!! [cite_start]/ Must be saved in UTF8 with BOM encoding !!! [cite: 25]

.NOTES
    Несколько важных моментов по работе с массивом задач: / Key points for working with the Tasks array:
    1. Количество задач: Вы можете добавить любое количество блоков @{ ... } в массив Tasks. / 
       Task count: You can add any number of @{ ... } blocks to the Tasks array.
       Скрипт будет обрабатывать их строго по очереди. [cite_start]/ The script will process them strictly in order. [cite: 26]

    2. Уникальность имен: У каждой задачи должен быть уникальный LogName. / 
       [cite_start]Unique Names: Each task must have a unique LogName. [cite: 27]
       Это предотвратит конфликты при записи логов. [cite_start]/ This prevents conflicts when writing logs. [cite: 28]

    3. Гибкость наследования: Достаточно указать только обязательные параметры (Name, Source, Destination, LogName). / 
       [cite_start]Inheritance Flexibility: Only mandatory parameters are required (Name, Source, Destination, LogName). [cite: 29]
       Остальное подтянется из глобальных настроек автоматически. [cite_start]/ Everything else will be inherited from global settings automatically. [cite: 30]
    
    4. передача параметра из командной строки, для выполнения конкретной задачи из массива Tasks. / 
       Passing a parameter from the command line to execute a specific task from the Tasks array. [cite: 31]
#>

@{
    # ==========================================================
    # Глобальные настройки (по умолчанию) / Global Settings (Default)
    # ==========================================================
    BOT_TOKEN         = 'You_Bot_Token_Here'
    CHAT_ID           = 'Your_Chat_ID_Here'
    MESSAGE_THREAD_ID = 'Your_Message_Thread_ID_Here_If_Needed'

    # глобальная директория для логов
    LogDirectory      = 'C:\Logs'

    # Включать отправку уведомлений в Telegram. По умолчанию включено.
    SendTelegram = $false

    # Дополнительные опции
    # ArchiveCompression - включить сжатие архивных папок (ZIP)
    ArchiveCompression = $true
    # ArchiveKeepOriginal - если $true, не удалять исходные папки после сжатия
    ArchiveKeepOriginal = $false
    # LogLevel - 'Debug'|'Info'|'Warning'|'Error'
    LogLevel = 'Info'

    # Глобальные параметры Robocopy которые применятся по умолчанию ко всем задачам. 
    # Параметры можно переопределить в каждой задаче отдельно
    EnableSEC         = $true   # Включить сохранение атрибутов безопасности NTFS
    EnableMIR         = $true   # Включить зеркалирование (MIR)
    MultiThread       = 64      # Количество потоков
    MaxRetries        = 5       # Максимальное количество повторных попыток при ошибках
    WaitTime          = 5       # Время ожидания между повторными попытками (в секундах)

    # Глобальные исключения (если не заданы в задаче)
    GlobalExcludedFiles = @("Thumbs.db", "~*.*", "*.tmp", "*.log", ".DS_Store", "desktop.ini")
    GlobalExcludedDirs  = @("Cache", "Temp")

    # Если хотите хранить секреты в переменных окружения, замените BOT_TOKEN на $env:SYNC_BOT_TOKEN
    # Пример: BOT_TOKEN = $env:SYNC_BOT_TOKEN

    # ==================================
    # МАССИВ ЗАДАЧ
    # ==================================
    Tasks = @(
        # Пример шаблона задачи (раскомментируйте и адаптируйте при необходимости)
        #@{
        #    Name        = "template"
        #    Enabled     = $true                # можно временно отключить задачу
        #    Source      = '\\path\to\source'
        #    Destination = 'C:\tmp\dest'
        #    LogName     = 'Bckp_template'
        #    MultiThread = 8                    # переопределяет глобальный MultiThread
        #    MaxRetries  = 3
        #    WaitTime    = 5
        #    ExcludedFiles = @('*.tmp')
        #}
        @{
            Name          = "fileshare"
            #Enabled       = $false
            Source        = '\\s-fs03\Файловое хранилище\Отделы\Отдел информационных технологий\DISTR\qtronix'
            Destination   = 'C:\tmp\FileShare'
            LogName       = "Bckp_FileShare"
            # Здесь НЕТ ExcludedFiles, значит возьмет GlobalExcludedFiles
            EnableSEC     = $false
        },
        @{
            Name          = "SQL"
            Source        = '\\s-fs03\Файловое хранилище\Отделы\Отдел информационных технологий\DISTR\DRV'
            Destination   = 'C:\tmp\SQL_Backup'
            LogName       = "Bckp_SQL"
            EnableSEC     = $false
            MultiThread   = 8
            ExcludedFiles = @("*.old", "temp_invoice.pdf") 
            
        }
    )
}
