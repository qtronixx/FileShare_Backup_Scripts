<#
.SYNOPSIS
    Файл конфигурации для скрипта sync_share.ps1 / Configuration file for sync_share.ps1 script
    Внимание!!! / Attention!!!
    Требуется сохранение в кодировке UTF8 с BOM !!! [cite_start]/ Must be saved in UTF8 with BOM encoding !!! [cite: 25]

.NOTES
    Несколько важных моментов по работе с массивом задач: / Key points for working with the Tasks array:
    1. Количество задач: Вы можете добавить любое количество блоков @{ ... } в массив Tasks. / 
       Task count: You can add any number of @{ ... } blocks to the Tasks array.
       Скрипт будет обрабатывать их строго по очереди. [cite_start]/ The script will process them strictly in order. [cite: 26]

    2. Уникальность имен: У каждой задачи должен быть уникальный LogName. / 
       [cite_start]Unique Names: Each task must have a unique LogName. [cite: 27]
       Это предотвратит конфликты при записи логов. [cite_start]/ This prevents conflicts when writing logs. [cite: 28]

    3. Гибкость наследования: Достаточно указать только обязательные параметры (Name, Source, Destination, LogName). / 
       [cite_start]Inheritance Flexibility: Only mandatory parameters are required (Name, Source, Destination, LogName). [cite: 29]
       Остальное подтянется из глобальных настроек автоматически. [cite_start]/ Everything else will be inherited from global settings automatically. [cite: 30]
#>

@{
    # ==========================================================
    # Глобальные настройки (по умолчанию) / Global Settings (Default)
    # ==========================================================
    BOT_TOKEN         = 'You_Bot_Token_Here'
    CHAT_ID           = 'Your_Chat_ID_Here'
    MESSAGE_THREAD_ID = 'Your_Message_Thread_ID_Here_If_Needed'

    # Глобальная директория для логов / Global directory for logs
    LogDirectory      = 'C:\Logs'

    # Глобальные параметры Robocopy / Global Robocopy parameters
    # [cite_start]Параметры можно переопределить в каждой задаче / Parameters can be overridden in each task [cite: 33]
    EnableSEC         = $true   # Сохранять атрибуты безопасности NTFS / Copy NTFS security attributes
    EnableMIR         = $true   # Включить зеркалирование / Enable mirroring (MIR)
    MultiThread       = 64      # Количество потоков / Number of threads
    MaxRetries        = 5       # Повторные попытки при ошибках / Max retries on errors
    [cite_start]WaitTime          = 5       # Ожидание между попытками (сек) / Wait time between retries (sec) [cite: 34]

    # Глобальные исключения / Global exclusions
    GlobalExcludedFiles = @("Thumbs.db", "~*.*", "*.tmp", "*.log", ".DS_Store", "desktop.ini")
    GlobalExcludedDirs  = @("Cache", "Temp")

    # ==========================================================
    # МАССИВ ЗАДАЧ / TASKS ARRAY
    # ==========================================================
    Tasks = @(
        @{
            [cite_start]Name          = "Бэкап Файлопомойки / FileShare Backup" [cite: 35]
            Source        = '\\fileserver\share\subfolder'
            Destination   = 'd:\archive\FileShare'
            LogName       = "Bckp_FileShare"
            # Возьмет GlobalExcludedFiles / Will use GlobalExcludedFiles
            [cite_start]EnableSEC     = $false [cite: 36]
        },
        @{
            Name          = "Бэкап Скуля / SQL Backup"
            Source        = '\\sqlsrv\backup_sql\full'
            Destination   = 'C:\tmp\SQL_Backup'
            LogName       = "Bckp_SQL"
  
            # [cite_start]Переопределяем параметры для этой задачи / Overriding parameters for this task [cite: 37]
            EnableSEC     = $false
            MultiThread   = 8
            ExcludedFiles = @("*.old", "temp_invoice.pdf") 
            #ExcludedDirs  = @("Recycle Bin")
        }
    )
}