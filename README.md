  # PS-MultiSync-Backup üöÄ

 —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â –∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±–∞–∑–µ **PowerShell** –∏ **Robocopy**. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π IT-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ.
 

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–¥–∞—á —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫.
- **–ò–µ—Ä–∞—Ä—Ö–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–æ—Ç–æ–∫–∏, –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Ñ–ª–∞–≥–∏) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –∑–∞–¥–∞—á–∞–º, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏.
- **–£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram:** –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (–£—Å–ø–µ—Ö, –í–Ω–∏–º–∞–Ω–∏–µ, –û—à–∏–±–∫–∞) —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ —Å–µ—Ä–≤–µ—Ä–∞.
- **–ì–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ª–æ–≥–∏ Robocopy –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö Win32 –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0x00000005` ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω), –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—â–∏–π –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è:** –õ–æ–≥–∏ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è –ø–æ –ø–∞–ø–∫–∞–º `–ì–æ–¥/–ú–µ—Å—è—Ü`, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∑–∞–º—É—Å–æ—Ä–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
  - –°–∫—Ä–∏–ø—Ç –Ω–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Robocopy (`$LASTEXITCODE`), –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–æ–π –±–∏—Ç–æ–≤—ã—Ö —Ñ–ª–∞–≥–æ–≤.
  - –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–ø–∏—Å–∫–∏: `$NonCriticalExitCodes` –∏ `$CriticalErrorHexCodes` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ —Å–±–æ—è.
  - –ï—Å–ª–∏ –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –Ω–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö, –Ω–æ –≤ –ª–æ–≥–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è **–∑–∞–¥–∞–Ω–Ω—ã–µ HEX-–∫–æ–¥—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ Win32** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ), —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ **"–í–ù–ò–ú–ê–ù–ò–ï"**.
 
## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –û–° Windows / Windows Server.
- PowerShell 5.1 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π).
- –ó–∞–ø—É—Å–∫ –ø–æ–¥ –¥–æ–º–µ–Ω–Ω–æ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é —Å –ø—Ä–∞–≤–∞–º–∏ —á—Ç–µ–Ω–∏—è –≤—Å–µ–π —Ñ–∞–π–ª–æ–≤–æ–π —à–∞—Ä—ã.
- –í–∞–∂–Ω–æ: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ñ–∞–π–ª –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8 with BOM –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone [https://github.com/qtronixx/FileShare_Backup_Scripts.git]
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

    –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ config.psd1.example –≤ config.psd1.

    –í–∞–∂–Ω–æ: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ñ–∞–π–ª –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8 with BOM –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.

    –£–∫–∞–∂–∏—Ç–µ –≤–∞—à BOT_TOKEN, CHAT_ID –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ MESSAGE_THREAD_ID.

3. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–∞—á–∏: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–∞—Å—Å–∏–≤ Tasks –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á:

    –ü—Ä–æ–≥—Ä–∞–º–º–∞: powershell.exe

    –ê—Ä–≥—É–º–µ–Ω—Ç—ã: -ExecutionPolicy Bypass -File "C:\Path\To\sync_share.ps1"

‚öôÔ∏è –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
–ï—Å–ª–∏ –≤ –∑–∞–¥–∞—á–µ –Ω–µ —É–∫–∞–∑–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, MultiThread), –æ–Ω –±—É–¥–µ—Ç –≤–∑—è—Ç –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

  Tasks = @(
      @{
          Name        = "–ë—ç–∫–∞–ø SQL"
          Source      = "\\Server\SQL_Backup"
          Destination = "D:\Backup\SQL"
          MultiThread = 8   # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏
      }
  )